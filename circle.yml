machine:
    node:
        version: 4.4.7
    environment:
        DBUS_SESSION_BUS_ADDRESS: /dev/null

general:
    artifacts:
        - "coverage/"
        - "dist/"
        - "docs/dist/"
        - "test/component/artifacts/"

dependencies:
    override:
        - curl -u${ARTIFACTORY_USER}:${ARTIFACTORY_PWD} "https://qliktech.artifactoryonline.com/qliktech/api/npm/npm-local/auth/qlik" > ./.npmrc
        - npm install
    post:
        - npm run build
        - cd docs && npm install && npm run docs

test:
    override:
        - npm run test:coverage
        - npm run lint
